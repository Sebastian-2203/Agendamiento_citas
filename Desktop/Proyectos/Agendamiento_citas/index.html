<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamiento Psicolog√≠a</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>

<body>
    <div id="app">
        <!-- Navigation / Header -->
        <header class="app-header">
            <div class="logo">Œ® Contigo profe</div>
            <nav id="nav-menu" class="hidden">
                <span id="user-display"></span>
                <button id="logout-btn" class="btn-secondary">Cerrar Sesi√≥n</button>
            </nav>
        </header>

        <!-- Main Content Area -->
        <main class="container">
            <!-- Login View -->
            <section id="login-view" class="view active">
                <div class="login-card">
                    <h1>üëã ¬°Hola, qu√© gusto verte!</h1>
                    <p class="subtitle">Agenda tu espacio de forma r√°pida y sencilla ‚ú®</p>
                    <div id="login-selection" class="login-options">
                        <button id="show-psych-login-btn" class="btn-primary"
                            style="font-size: 1.1rem; padding: 1rem;">üë©‚Äç‚öïÔ∏è Soy Psic√≥loga</button>
                        <button id="login-teacher-btn" class="btn-secondary"
                            style="font-size: 1.1rem; padding: 1rem;">üë®‚Äçüè´ Soy Profesor</button>
                    </div>

                    <form id="psych-login-form" class="hidden" style="margin-top: 1.5rem; text-align: left;">
                        <div class="form-group">
                            <label for="psych-username">Usuario</label>
                            <input type="text" id="psych-username" required placeholder="admin">
                        </div>
                        <div class="form-group">
                            <label for="psych-password">Contrase√±a</label>
                            <input type="password" id="psych-password" required placeholder="1234">
                        </div>
                        <div style="color: var(--error-color); font-size: 0.85rem; margin-bottom: 1rem; display: none;"
                            id="login-error-msg">Credenciales incorrectas</div>
                        <div style="display: flex; gap: 1rem;">
                            <button type="button" id="back-to-selection-btn" class="btn-secondary"
                                style="flex: 1;">Volver</button>
                            <button type="submit" class="btn-primary" style="flex: 1;">Entrar</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Teacher Dashboard -->
            <section id="teacher-view" class="view hidden">
                <div class="header-actions" style="margin-bottom: 0.5rem; text-align: left;">
                    <h2 style="font-size: 1.8rem; margin-bottom: 0.2rem;">üìÖ Agendar Cita</h2>
                    <p class="subtitle" style="text-align: left; margin-bottom: 1.5rem;">Selecciona una fecha y descubre
                        los espacios que tenemos para ti. üåø</p>
                </div>

                <div class="split-layout">
                    <!-- Izquierda: Calendario -->
                    <div class="calendar-section">
                        <div class="calendar-container">
                            <div class="calendar-header">
                                <button id="prev-month-btn" class="btn-icon">‚ùÆ</button>
                                <h3 id="current-month-year">...</h3>
                                <button id="next-month-btn" class="btn-icon">‚ùØ</button>
                            </div>
                            <div class="calendar-weekdays">
                                <div>Lun</div>
                                <div>Mar</div>
                                <div>Mi√©</div>
                                <div>Jue</div>
                                <div>Vie</div>
                                <div>S√°b</div>
                                <div>Dom</div>
                            </div>
                            <div id="calendar-days" class="calendar-days">
                                <!-- Calendar days injected by JS -->
                            </div>
                        </div>
                    </div>

                    <!-- Derecha: Horarios -->
                    <div class="timeslot-section">
                        <div id="slots-container" class="slots-container hidden">
                            <h3 id="selected-date-title"
                                style="margin-bottom: 1rem; color: var(--text-muted); font-weight: 500; font-size: 0.95rem;">
                                Eleg√≠ desde las opciones:</h3>
                            <div id="time-slots" class="time-slots split-style-slots">
                                <!-- Time slots injected by JS -->
                            </div>
                            <button id="confirm-booking-btn" class="btn-primary"
                                style="width: 100%; margin-top: 1rem; padding: 1rem; font-size: 1.1rem; display: none;">Confirmar
                                cita ‚ú®</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Psychologist Dashboard -->
            <section id="psych-view" class="view hidden">
                <div class="header-actions" style="margin-bottom: 0.5rem; text-align: left;">
                    <h2 style="font-size: 1.6rem; margin-bottom: 0.2rem;">‚≠ê Estas son tus pr√≥ximas citas programadas
                    </h2>
                    <p class="subtitle" style="text-align: left; margin-bottom: 1.5rem;">Dra. Daniela Ortega ¬∑ Psic√≥loga
                        Goleman</p>
                </div>
                <div id="schedule-list" class="schedule-list continuous-rows">
                    <!-- Schedule items injected by JS -->
                </div>
            </section>
        </main>

        <!-- Booking Modal -->
        <div id="booking-modal" class="modal hidden">
            <div class="modal-content">
                <h3>Confirmar Reserva</h3>
                <p id="modal-slot-info"></p>
                <form id="booking-form">
                    <div class="form-group">
                        <label for="teacher-name">Tu Nombre</label>
                        <input type="text" id="teacher-name" required placeholder="Ej. Juan P√©rez">
                    </div>
                    <div class="form-group">
                        <label for="teacher-cedula">No. de C√©dula</label>
                        <input type="text" id="teacher-cedula" required placeholder="123456789" pattern="[0-9]*"
                            title="Solo n√∫meros">
                    </div>
                    <div class="form-group">
                        <label for="teacher-sede">Sede</label>
                        <select id="teacher-sede" required
                            style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 0.5rem; font-family: var(--font-family); font-size: 1rem;">
                            <option value="" disabled selected>Selecciona tu sede</option>
                            <option value="Sede A">Sede A</option>
                            <option value="Sede B">Sede B</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="booking-reason">Motivo (Opcional)</label>
                        <textarea id="booking-reason" placeholder="Breve descripci√≥n..."></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" id="cancel-booking-btn" class="btn-secondary">Cancelar</button>
                        <button type="submit" class="btn-primary">Confirmar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Cancel Confirmation Modal -->
        <div id="cancel-modal" class="modal hidden">
            <div class="modal-content" style="text-align: center;">
                <h3 style="font-size: 1.5rem; margin-bottom: 0.5rem; color: var(--text-main);">Cancelar Cita</h3>
                <p style="margin-bottom: 1.5rem; color: var(--text-muted); font-size: 0.95rem;">¬øEst√°s seguro de
                    cancelar esta cita? La hora volver√° a estar libre de inmediato para que otro profesor agende.</p>
                <div class="modal-actions" style="justify-content: center;">
                    <button type="button" id="abort-cancel-btn" class="btn-secondary" style="flex: 1;">Conservar
                        Cita</button>
                    <button type="button" id="confirm-cancel-btn" class="btn-primary"
                        style="flex: 1; background-color: var(--error-color); border: none;">S√≠, cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>